<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">
    <ui:composition template="/WEB-INF/templates/main-template.xhtml">
        <ui:param name="pageTitle" value="Welcome Man"/>
        <ui:define name="main-content">
            <b:row rendered="#{request.isUserInRole('STAFF')}">
                <b:column>
                    <b:form>
                        <p:outputPanel styleClass="box">
                            <p:outputPanel styleClass="box-header">
                                <p:outputLabel styleClass="pull-left">Associated Contracts</p:outputLabel>
                                <h:button value="Create Contract" outcome="createContract" styleClass="btn btn-primary pull-right btn-flat"/>
                            </p:outputPanel>
                            <p:outputPanel styleClass="box-body top-border">
                                <b:dataTable value="#{manageContractsBean.personsAssociatedToContract}"
                                             var="person"
                                             responsive="true">
                                    <b:dataTableColumn value="#{person.firstName}" label="Employee"/>
                                    <b:dataTableColumn value="#{person.firstName}" label="Status"/>
                                </b:dataTable>
                            </p:outputPanel>
                        </p:outputPanel>
                    </b:form>
                </b:column>

            </b:row>
            <h:button value="Admin Page" outcome="admin" 
                      rendered="#{request.isUserInRole('ADMIN')}" />
            <p:growl id="msg" showDetail="true"/>
        </ui:define>
    </ui:composition>
</html>